
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TextService = game:GetService("TextService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")


local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FrostWareUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui


local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 400, 0, 300)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 90, 200)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui


local uicorner = Instance.new("UICorner")
uicorner.CornerRadius = UDim.new(0, 10)
uicorner.Parent = mainFrame


local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "FrostWare"
title.TextColor3 = Color3.fromRGB(235, 235, 235)
title.Font = Enum.Font.GothamBold
title.TextSize = 28
title.Parent = mainFrame


local scriptBox = Instance.new("TextBox")
scriptBox.Size = UDim2.new(1, -20, 1, -100)
scriptBox.Position = UDim2.new(0, 10, 0, 50)
scriptBox.BackgroundColor3 = Color3.fromRGB(35, 110, 240)
scriptBox.TextColor3 = Color3.fromRGB(255, 255, 255)
scriptBox.TextWrapped = true
scriptBox.ClearTextOnFocus = false
scriptBox.MultiLine = true
scriptBox.Font = Enum.Font.Code
scriptBox.TextSize = 18
scriptBox.PlaceholderText = "Write your Lua code here..."
scriptBox.Parent = mainFrame

local textBoxUICorner = Instance.new("UICorner")
textBoxUICorner.CornerRadius = UDim.new(0, 6)
textBoxUICorner.Parent = scriptBox


local function copyToClipboard(text)
    if setclipboard then
        setclipboard(text)
    else
        warn("[FWSD] Clipboard function not supported.")
    end
end


local buttonContainer = Instance.new("Frame")
buttonContainer.Size = UDim2.new(1, -20, 0, 40)
buttonContainer.Position = UDim2.new(0, 10, 1, -45)
buttonContainer.BackgroundTransparency = 1
buttonContainer.Parent = mainFrame


local function createButton(name, posX, text)
    local btn = Instance.new("TextButton")
    btn.Name = name
    btn.Size = UDim2.new(0, 80, 1, 0)
    btn.Position = UDim2.new(0, posX, 0, 0)
    btn.BackgroundColor3 = Color3.fromRGB(60, 130, 250)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamSemibold
    btn.TextSize = 18
    btn.Text = text
    btn.AutoButtonColor = true

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = btn

    btn.Parent = buttonContainer
    return btn
end

local btnCopy = createButton("CopyButton", 0, "Copy")
local btnPaste = createButton("PasteButton", 90, "Paste")
local btnClear = createButton("ClearButton", 180, "Clear")
local btnExecute = createButton("ExecuteButton", 270, "Execute")




btnCopy.MouseButton1Click:Connect(function()
    copyToClipboard(scriptBox.Text)
end)

btnPaste.MouseButton1Click:Connect(function()
    if getclipboard then
        local clip = getclipboard()
        if type(clip) == "string" then
            scriptBox.Text = clip
        end
    else
        warn("[FWSD] Paste clipboard not supported.")
    end
end)

btnClear.MouseButton1Click:Connect(function()
    scriptBox.Text = ""
end)


btnExecute.MouseButton1Click:Connect(function()
    local success, err = pcall(function()
        loadstring(scriptBox.Text)()
    end)
    if not success then
        warn("[FWSD] Error executing script: " .. tostring(err))
    end
end)

local dragging = false
local dragInput
local dragStart
local startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)
